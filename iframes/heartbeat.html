<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>HeartBeat</title>
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>

<body>
  <div id="heartbeat"></div>
</body>

<script>
  var heartbeat = d3.select("#heartbeat").append("svg").attr("width", 20).attr("height", 20)
    .append("circle")
    .attr("cx", 10)
    .attr("cy", 10)
    .attr("r", 5)
    .attr("fill", "red")
    .on("click", function(){ 
        if (heartbeat.attr("fill") === "red") heartbeat.attr("fill", "blue");
        else heartbeat.attr("fill", "red");
      });
  
  setInterval(function (){
    heartbeat.transition().duration(500).attr("r", 10)
      .transition().duration(500).attr("r", 5)
      .transition().duration(500).attr("r", 9)
      .transition().duration(500).attr("r", 5);
    }, 2100);
</script>
</html>
